(function($){$.fn.sliderota=function(options){var defaults={speed:1200,timer:5000,slideshow:true,easing:'swing'};var options=$.extend(defaults,options);return this.each(function(){var loop,counter,obj,totalWidth,itemWidth,curLeft,itemNum,limit;obj=$(this);counter=0;itemWidth=obj.outerWidth();itemHeight=obj.outerHeight();itemNum=obj.find(".images li").length;totalWidth=(itemNum+1)*itemWidth;limit=-(itemNum*itemWidth);obj.find(".text").html('').end().find(".images").css({width:totalWidth+"px",height:itemHeight+"px"}).end().find(".images li").css({width:itemWidth+"px",height:itemHeight+"px"}).end().find(".images li").each(function(){$("<li><a href='javascript:void(0)' class='slide_"+counter+"'></a></li>").appendTo(obj.find(".text"));counter++;}).end().find("ul.text li:eq(0)").addClass("selected").end().find(".images li:eq(0)").clone().appendTo(".images",obj).end().find("ul.text li a").live('click',function(){obj.find("ul.text li").each(function(){$(this).removeClass("selected");});curLeft=$(this).attr('class').replace("slide_","");curLeft=-(curLeft*itemWidth);$(this).parent().addClass("selected");obj.find(".images").stop().animate({left:curLeft+"px"},options.speed,options.easing).end().find(".controls a.play").show().end().find(".controls a.pause").hide();clearTimeout(loop);});if(options.slideshow){obj.append("<div class='controls'></div>").find(".controls").append("<a href='javascript:void(0)' class='play'></a>").append("<a href='javascript:void(0)' class='pause'></a>").end().find(".controls .play").click(function(){loop=setTimeout(function(){moveSlides();},options.timer);$(this).hide();obj.find(".controls .pause").show();}).end().find(".controls .pause").click(function(){clearTimeout(loop);obj.find(".controls .play").show();$(this).hide();});loop=setTimeout(function(){moveSlides();},options.timer);function moveSlides(){obj.find("ul.text li").each(function(){$(this).removeClass("selected");})
curLeft=obj.find(".images").css('left').replace("px","");curItem=(Math.abs(curLeft)/itemWidth)+1;if(curLeft==limit+itemWidth){obj.find('ul.text li:eq(0)').addClass("selected");}else{obj.find('ul.text li a.slide_'+curItem).parent().addClass("selected");}
curLeft=curLeft-itemWidth;obj.find(".images").stop().animate({left:curLeft+"px"},options.speed,options.easing,function(){if(curLeft==limit){obj.find(".images").css({left:"0px"});}});loop=setTimeout(function(){moveSlides();},options.timer);};};});};

$("#sliderota").sliderota().css({visibility:'visible'});
})(jQuery);